<!doctype html>
<html>
<head>
  <!-- Plotly.js -->
  <script src="./node_modules/plotly.js-dist-min/plotly.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js"></script>
  <script>
    require.config({
      paths: {
        'plotly': './node_modules/plotly.js-dist-min/plotly.min',
        'plotlyjs-finance': 'https://cdn.rawgit.com/etpinard/plotlyjs-finance/master/plotlyjs-finance',
        // añadir papaparse como módulo para que RequireJS lo cargue correctamente
        'papaparse': 'https://unpkg.com/papaparse@5.4.1/papaparse.min'
      },
      shim: {
        'plotlyjs-finance': {
          deps: ['plotly']
        }
      }
    });
    // cargar papaparse y luego tu script (o pásalo como dependencia en script.js si lo necesita)
    require(['plotly','plotlyjs-finance','papaparse'], function(Plotly, finance, Papa){
      // Plotly, el plugin y PapaParse ya cargaron; script.js también se ejecuta.
    });
  </script>
  <!-- <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script> -->
</head>
<body>
  <input id="fileInput" type="file" accept=".vak,.txt,.csv" />
  <div id="statusOutput" style="margin-top:10px;color:darkgreen"></div>
  <script src="script.js"></script>
  <div id="myDiv" style="width: 100rem; height: 50rem;"><!-- Plotly chart will be drawn inside this DIV --></div>

  <!-- Navegador grande y legible -->
  <div style="width: 100rem; margin-top:8px;">
    <input id="navigator" type="range" min="0" value="0" step="1" style="width:100%;" />
    <div id="navigatorInfo" style="font-size:0.9rem;color:#333;margin-top:4px;"></div>
  </div>
</body>
</html>